!function(){"use strict";$("#form").parsley(),$("#form").length>0&&$("#form").parsley().on("field:success",function(){$("ul.parsley-errors-list").not(":has(li)").remove()}),$(document).ready(function(){$("html").addClass("is-animating"),$(".mry-loader").animate({width:"100%"},1e3),setTimeout(function(){$(".mry-preloader").removeClass("mry-active")},1e3),setTimeout(function(){$("html").removeClass("is-animating")},1e3)}),Scrollbar.use(OverscrollPlugin);var e=Scrollbar.init(document.querySelector("#scroll"),{damping:.07,renderByPixel:!0,continuousScrolling:!0,plugins:{overscroll:{effect:"bounce",damping:.15,maxOverscroll:80},mobile:{speed:.2,alwaysShowTracks:!1}}});$(".mry-scroll-hint").on("click",function(){e.scrollTo(0,550,1800)}),$(".mry-filter a").on("click",function(){$(".mry-filter .mry-current").removeClass("mry-current"),$(this).addClass("mry-current");var e=$(this).data("filter");return $(".mry-masonry-grid").isotope({filter:e}),!1}),$(".mry-masonry-grid").isotope({filter:"*",itemSelector:".mry-masonry-grid-item",percentPosition:!0,masonry:{columnWidth:".mry-grid-sizer"}}),$('[data-fancybox="works"]').fancybox({animationEffect:"zoom-in-out",animationDuration:600,transitionDuration:1e3,buttons:["zoom","slideShow","thumbs","close",]}),$('[data-fancybox="works-slider"]').fancybox({animationEffect:"zoom-in-out",animationDuration:600,transitionDuration:1e3,buttons:["zoom","slideShow","thumbs","close",]}),$.fancybox.defaults.hash=!1,$("html").hasClass("is-rendering")&&$("html, body").animate({scrollTop:0},0),$(".mry-menu-btn").on("click",function(){$(".mry-menu-btn , .mry-menu").toggleClass("mry-active")}),$(".menu-item").on("click",function(){$(this).toggleClass("mry-active"),$(this).children(".sub-menu").toggleClass("mry-active")}),$(document).on("click",function(e){jQuery(e.target).closest(".mry-menu , .mry-menu-btn-frame , .mry-menu-btn").length||$(".mry-menu , .mry-menu-btn-frame , .mry-menu-btn").removeClass("mry-active")}),$(".mry-anima-link").on("click",function(){$(".mry-menu , .mry-menu-btn-frame , .mry-menu-btn").removeClass("mry-active"),$(".menu-item a").on("click",function(){$(this).toggleClass("mry-active"),$(this).children(".sub-menu").toggleClass("mry-active")})});let t=document.querySelector(".mry-ball"),n=document.querySelector(".mry-magnetic-link");document.querySelector(".mry-magnetic-object"),$(".mry-default-link").mouseenter(function(e){TweenMax.to(t,.3,{scale:.6}),TweenMax.to(t,.3,{opacity:"1"})}),$(".mry-default-link").mouseleave(function(e){TweenMax.to(t,.3,{scale:1}),TweenMax.to(t,.3,{opacity:".5"})}),$(".mry-magnetic-link").mouseenter(function(e){TweenMax.to(t,.3,{scale:1.4}),TweenMax.to(t,.3,{opacity:"1"})}),$(".mry-magnetic-link").mouseleave(function(e){TweenMax.to(t,.3,{scale:1}),TweenMax.to(t,.3,{opacity:".5"})}),new class e{constructor(e,t,n){this.el=e,this.bind()}bind(){document.addEventListener("mousemove",this.move.bind(this),!1)}move(e){let t={left:e.clientX,top:e.clientY};document.querySelectorAll(".mry-magnetic-link").forEach(e=>{let n=e.getBoundingClientRect().width/2,o={left:e.getBoundingClientRect().left+e.getBoundingClientRect().width/2,top:e.getBoundingClientRect().top+e.getBoundingClientRect().height/2},i={x:o.left-t.left,y:o.top-t.top},r=Math.atan2(i.x,i.y),a=Math.sqrt(i.x*i.x+i.y*i.y);a<n?TweenMax.to(e.querySelector(".mry-magnetic-object"),.4,{x:-(Math.sin(r)*a/2),y:-(Math.cos(r)*a/2)}):(TweenMax.to(this.el,.6,{left:t.left-20,top:t.top-20}),TweenMax.to(e.querySelector(".mry-magnetic-object"),.4,{x:0,y:0}))})}}(t,n);var o=$(".mry-slider-progress-bar");new Swiper(".mry-main-slider",{autoplay:{delay:1e4,disableOnInteraction:!1},loop:!0,parallax:!0,mousewheel:!0,mousewheel:{releaseOnEdges:!0},keyboard:!0,speed:1200,navigation:{nextEl:".mry-button-next",prevEl:".mry-button-prev"},pagination:{el:".mry-slider-pagination",clickable:!0},on:{init:function(){o.removeClass("animate"),o.removeClass("active"),o.eq(0).addClass("animate"),o.eq(0).addClass("active")},slideChangeTransitionStart:function(){o.removeClass("animate"),o.removeClass("active"),o.eq(0).addClass("active")},slideChangeTransitionEnd:function(){o.eq(0).addClass("animate")}}}),new Swiper(".mry-team-slider",{slidesPerView:3,spaceBetween:30,loop:!0,navigation:{nextEl:".mry-button-team-next",prevEl:".mry-button-team-prev"},speed:1200,breakpoints:{768:{slidesPerView:2}}}),new Swiper(".mry-testimonials-slider",{slidesPerView:1,spaceBetween:30,loop:!0,navigation:{nextEl:".mry-button-testimonials-next",prevEl:".mry-button-testimonials-prev"},speed:1200,breakpoints:{768:{slidesPerView:1}}}),new Swiper(".mry-blog-slider",{slidesPerView:3,spaceBetween:60,loop:!0,navigation:{nextEl:".mry-button-blog-next",prevEl:".mry-button-blog-prev"},speed:1200,breakpoints:{768:{slidesPerView:1}}});var i=new ScrollMagic.Controller;$(".mry-fo").css({opacity:"0",transform:"translateY(50px) scale(.98)"});var r=document.getElementsByClassName("mry-fo");function a(e,t){new ScrollMagic.Scene({triggerElement:e,offset:-400}).setTween(e,.6,{opacity:1,scale:"1",y:0}).addTo(i)}!function e(t){for(let n=0;n<t.length;n++)a(t[n],n)}(r);var s=document.getElementsByClassName("mry-curtain");function l(e,t){new ScrollMagic.Scene({triggerElement:e,offset:-200}).setTween(e,.8,{x:"-100%"}).addTo(i)}if(!function e(t){for(let n=0;n<t.length;n++)l(t[n],n)}(s),$("div").is("#map-dark")){mapboxgl.accessToken="pk.eyJ1Ijoic3Rvc2NhciIsImEiOiJja2VpbDE4b2UwbDg3MnNwY2d3YzlvcDV5In0.e26tLedpKwxrkOmPkWhQlg";var m=new mapboxgl.Map({container:"map-dark",style:"mapbox://styles/stoscar/ckk75h29r02ol17rrilp215vd",center:[-79.3949,43.643102],zoom:11});new mapboxgl.Marker().setLngLat([-79.3949,43.643102]).addTo(m)}if($("div").is("#map-light")){mapboxgl.accessToken="pk.eyJ1Ijoic3Rvc2NhciIsImEiOiJja2VpbDE4b2UwbDg3MnNwY2d3YzlvcDV5In0.e26tLedpKwxrkOmPkWhQlg";var m=new mapboxgl.Map({container:"map-light",style:"mapbox://styles/stoscar/ckkb5d37l0euf17r0wws7op4i",center:[-79.3949,43.643102],zoom:11});new mapboxgl.Marker().setLngLat([-79.3949,43.643102]).addTo(m)}$(".mry-lock").on("click",function(){$(".mry-map").toggleClass("mry-active"),$(".mry-lock").toggleClass("mry-active"),$(".mry-lock .fas").toggleClass("fa-unlock")}),document.addEventListener("swup:contentReplaced",function(){$("#form").parsley(),$("#form").length>0&&$("#form").parsley().on("field:success",function(){$("ul.parsley-errors-list").not(":has(li)").remove()}),$(document).ready(function(){$("html").addClass("is-animating"),$(".mry-loader").animate({width:"100%"},1e3),setTimeout(function(){$(".mry-preloader").removeClass("mry-active")},1e3),setTimeout(function(){$("html").removeClass("is-animating")},1e3)}),Scrollbar.use(OverscrollPlugin);var e=Scrollbar.init(document.querySelector("#scroll"),{damping:.07,renderByPixel:!0,continuousScrolling:!0,plugins:{overscroll:{effect:"bounce",damping:.15,maxOverscroll:80},mobile:{speed:.2,alwaysShowTracks:!1}}});$(".mry-scroll-hint").on("click",function(){e.scrollTo(0,550,1800)}),window.oncontextmenu=function(){return!1},document.onkeydown=function(e){if(123==window.event.keyCode||2==e.button)return!1},$(".mry-filter a").on("click",function(){$(".mry-filter .mry-current").removeClass("mry-current"),$(this).addClass("mry-current");var e=$(this).data("filter");return $(".mry-masonry-grid").isotope({filter:e}),!1}),$(".mry-masonry-grid").isotope({filter:"*",itemSelector:".mry-masonry-grid-item",percentPosition:!0,masonry:{columnWidth:".mry-grid-sizer"}}),$('[data-fancybox="works"]').fancybox({animationEffect:"zoom-in-out",animationDuration:600,transitionDuration:1e3,buttons:["zoom","slideShow","thumbs","close",]}),$('[data-fancybox="works-slider"]').fancybox({animationEffect:"zoom-in-out",animationDuration:600,transitionDuration:1e3,buttons:["zoom","slideShow","thumbs","close",]}),$.fancybox.defaults.hash=!1,$(".mry-smooth-scroll").on("click",function(){return $("html, body").stop().animate({scrollTop:$($(this).attr("href")).offset().top-0},1e3),!1}),$(".menu-item").on("click",function(){$(this).toggleClass("mry-active"),$(this).children(".sub-menu").toggleClass("mry-active")}),$(document).on("click",function(e){jQuery(e.target).closest(".mry-menu , .mry-menu-btn-frame , .mry-menu-btn").length||$(".mry-menu , .mry-menu-btn-frame , .mry-menu-btn").removeClass("mry-active")}),$(".mry-anima-link").on("click",function(){$(".mry-menu , .mry-menu-btn-frame , .mry-menu-btn").removeClass("mry-active"),$(".menu-item a").on("click",function(){$(this).toggleClass("mry-active"),$(this).children(".sub-menu").toggleClass("mry-active")})}),$("html").hasClass("is-rendering")&&$("html, body").animate({scrollTop:0},0),$(".mry-default-link").mouseenter(function(e){TweenMax.to(t,.3,{scale:.6}),TweenMax.to(t,.3,{opacity:"1"})}),$(".mry-default-link").mouseleave(function(e){TweenMax.to(t,.3,{scale:1}),TweenMax.to(t,.3,{opacity:".5"})}),$(".mry-magnetic-link").mouseenter(function(e){TweenMax.to(t,.3,{scale:1.4}),TweenMax.to(t,.3,{opacity:"1"})}),$(".mry-magnetic-link").mouseleave(function(e){TweenMax.to(t,.3,{scale:1}),TweenMax.to(t,.3,{opacity:".5"})});var n=$(".mry-slider-progress-bar");new Swiper(".mry-main-slider",{autoplay:{delay:1e4,disableOnInteraction:!1},spaceBetween:0,loop:!0,parallax:!0,mousewheel:!0,mousewheel:{releaseOnEdges:!0},keyboard:!0,speed:1200,navigation:{nextEl:".mry-button-next",prevEl:".mry-button-prev"},pagination:{el:".mry-slider-pagination",clickable:!0},on:{init:function(){n.removeClass("animate"),n.removeClass("active"),n.eq(0).addClass("animate"),n.eq(0).addClass("active")},slideChangeTransitionStart:function(){n.removeClass("animate"),n.removeClass("active"),n.eq(0).addClass("active")},slideChangeTransitionEnd:function(){n.eq(0).addClass("animate")}}}),new Swiper(".mry-team-slider",{slidesPerView:3,spaceBetween:30,loop:!0,navigation:{nextEl:".mry-button-team-next",prevEl:".mry-button-team-prev"},speed:1200,breakpoints:{768:{slidesPerView:2}}}),new Swiper(".mry-testimonials-slider",{slidesPerView:1,spaceBetween:30,loop:!0,navigation:{nextEl:".mry-button-testimonials-next",prevEl:".mry-button-testimonials-prev"},speed:1200,breakpoints:{768:{slidesPerView:1}}}),new Swiper(".mry-blog-slider",{slidesPerView:3,spaceBetween:60,loop:!0,navigation:{nextEl:".mry-button-blog-next",prevEl:".mry-button-blog-prev"},speed:1200,breakpoints:{768:{slidesPerView:1}}}),$(".mry-fo").css({opacity:"0",transform:"translateY(50px)"});var o=document.getElementsByClassName("mry-fo");function r(e,t){new ScrollMagic.Scene({triggerElement:e,offset:-360}).setTween(e,.6,{opacity:1,y:0}).addTo(i)}!function e(t){for(let n=0;n<t.length;n++)r(t[n],n)}(o);var a=document.getElementsByClassName("mry-scale-object");function s(e,t){new ScrollMagic.Scene({triggerElement:e,duration:1800,offset:-350}).setTween(e,.6,{scale:"1.2",y:"10%"}).addTo(i)}!function e(t){for(let n=0;n<t.length;n++)s(t[n],n)}(a);var l=document.getElementsByClassName("mry-curtain");function m(e,t){new ScrollMagic.Scene({triggerElement:e,offset:-150}).setTween(e,.8,{x:"-100%"}).addTo(i)}if(function e(t){for(let n=0;n<t.length;n++)m(t[n],n)}(l),$("div").is("#map-dark")){mapboxgl.accessToken="pk.eyJ1Ijoic3Rvc2NhciIsImEiOiJja2VpbDE4b2UwbDg3MnNwY2d3YzlvcDV5In0.e26tLedpKwxrkOmPkWhQlg";var c=new mapboxgl.Map({container:"map-dark",style:"mapbox://styles/stoscar/ckk75h29r02ol17rrilp215vd",center:[-79.3949,43.643102],zoom:11});new mapboxgl.Marker().setLngLat([-79.3949,43.643102]).addTo(c)}if($("div").is("#map-light")){mapboxgl.accessToken="pk.eyJ1Ijoic3Rvc2NhciIsImEiOiJja2VpbDE4b2UwbDg3MnNwY2d3YzlvcDV5In0.e26tLedpKwxrkOmPkWhQlg";var c=new mapboxgl.Map({container:"map-light",style:"mapbox://styles/stoscar/ckkb5d37l0euf17r0wws7op4i",center:[-79.3949,43.643102],zoom:11});new mapboxgl.Marker().setLngLat([-79.3949,43.643102]).addTo(c)}$(".mry-lock").on("click",function(){$(".mry-map").toggleClass("mry-active"),$(".mry-lock").toggleClass("mry-active"),$(".mry-lock .fas").toggleClass("fa-unlock")})})}();